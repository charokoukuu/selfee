(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6016:function(e,t,a){Promise.resolve().then(a.bind(a,1419))},1419:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(7283);let n=async(e,t)=>{let a=async e=>{let a=await fetch("https://gpu.beavers-hive.com/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({images:[e],prompt:t,negative_prompt:"(asymmetry, worst quality, low quality, illustration, 3d, 2d, painting, cartoons, sketch), open mouth, grayscale"})});if(a.ok)return(await a.json()).image;{let e=await a.json();throw Error("Error in image generation: ".concat(e.message))}},r=async(e,t)=>{let a=await fetch("https://gpu.beavers-hive.com/swap/process_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image1:e,image2:t})});if(a.ok)return(await a.json()).image;{let e=await a.json();throw Error("Error in image swapping: ".concat(e.message))}};try{console.log("Generating image...");let t=await a(e.replace(/^data:image\/[a-z]+;base64,/,""));return console.log("Swapping images..."),await r(e.replace(/^data:image\/[a-z]+;base64,/,""),t.replace(/^data:image\/[a-z]+;base64,/,""))}catch(e){throw console.error("Error:",e),e}};var o=a(4205),s=a(6736),i=a(1267),l=a(9860),c=e=>{let{width:t=24,height:a=24,color:n="#e8eaed"}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:a,viewBox:"0 -960 960 960",width:t,fill:n,children:(0,r.jsx)("path",{d:"M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"})})};let m=e=>{let{selectedImage:t,setSelectedImage:a}=e,n=(0,l.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.z,{onClick:()=>{n.current&&n.current.click()},children:(0,r.jsx)(s.xu,{className:"size-[162px] rounded-lg border-2 bg-white/20 shadow-[3px_2px_18.9px_0px_rgba(0,81,255,0.25)] transition-all duration-150 ease-in-out hover:translate-y-1 active:translate-y-2 active:shadow-[1px_1px_10px_0px_rgba(0,81,255,0.25)]",style:{backgroundImage:t?"url(".concat(t,")"):void 0,backgroundSize:"cover",backgroundPosition:"center"},children:!t&&(0,r.jsx)(s.xu,{className:"p-3 text-xl font-bold text-white",children:(0,r.jsxs)(i.g,{justify:"center",spacing:1,children:[(0,r.jsx)(c,{width:71,height:71,color:"#fff"}),(0,r.jsxs)(s.xu,{children:["Choose",(0,r.jsx)("br",{}),"Image"]})]})})})}),(0,r.jsx)("input",{type:"file",ref:n,style:{display:"none"},accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{a(e.result)},e.readAsDataURL(r)}}})]})},d=e=>{let{children:t,className:a,isDisable:n=!1,onClick:i,downloadUrl:c,fileName:m}=e,d=(0,l.useRef)(null);return(0,r.jsxs)(s.xu,{className:"w-full p-3 ".concat(a),children:[(0,r.jsx)(o.z,{type:"button",isDisabled:n,onClick:()=>{i&&i(),d.current&&d.current.click()},className:"h-12 w-full rounded-md font-bold ".concat(n?"cursor-not-allowed bg-gray-400":"bg-gradient-to-r from-[#ff8000] to-[#b9d619] text-white transition-transform duration-150 ease-in-out active:scale-95"),children:t}),(0,r.jsx)("a",{href:c,download:m,ref:d,style:{display:"none"},children:"Download"})]})},p=e=>{let{children:t,className:a,isDisable:n=!1,onClick:i}=e;return(0,r.jsx)(s.xu,{className:"w-full p-3 ".concat(a),children:(0,r.jsx)(o.z,{type:"submit",isDisabled:n,onClick:i,className:"h-12 w-full rounded-md ".concat(n?"cursor-not-allowed bg-gray-400":"bg-gradient-to-r from-[#9862D5] to-[#6072FF] text-white transition-transform duration-150 ease-in-out active:scale-95"),children:t})})},u=e=>{let{children:t}=e;return(0,r.jsx)(s.xu,{className:"mx-3 my-2 rounded-xl bg-white/20 p-3",children:t})};var g=a(7570);a(6679),a(9220);var h=a(8976),x=e=>{let{activeIndex:t,totalSlides:a}=e;return(0,r.jsx)("div",{className:"absolute bottom-2 left-1/2 z-50 mt-3 flex -translate-x-1/2 -translate-y-1/2 justify-center space-x-2",children:Array.from({length:a}).map((e,a)=>(0,r.jsx)("span",{className:"h-3 w-3 rounded-full transition-colors ".concat(t===a?"bg-white":"bg-gray-400")},a))})},f=e=>{let[t,a]=(0,l.useState)(0);return(0,r.jsx)("div",{className:"mx-auto max-w-screen-lg",children:(0,r.jsxs)(g.tq,{spaceBetween:30,centeredSlides:!0,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{clickable:!0},onSlideChangeTransitionEnd:t=>{a(t.realIndex),e.onSetPrompt(e.background[t.realIndex].prompt)},children:[e.background.map((e,t)=>(0,r.jsx)(g.o5,{children:(0,r.jsx)("div",{className:"relative h-48",children:(0,r.jsx)(h.default,{src:e.image,alt:"Slide ".concat(t),layout:"fill",objectFit:"cover",className:"rounded-lg shadow-lg"})})},t)),(0,r.jsx)(x,{activeIndex:t,totalSlides:e.background.length})]})})};let b=e=>{let{name:t,image:a}=e;return(0,r.jsxs)(s.xu,{className:"flex flex-col items-center space-y-2 ".concat(e.isSelect?"opacity-100":"opacity-15"),onClick:e.onClick,children:[(0,r.jsx)(s.xu,{position:"relative",height:"130PX",width:"97.5px",children:(0,r.jsx)(h.default,{src:a,alt:t,layout:"fill",objectFit:"cover",className:"rounded-lg"})}),(0,r.jsx)(s.xu,{className:"text-center text-sm font-bold text-white",children:t})]})};var w=()=>(0,r.jsx)("div",{className:"m-8 flex h-64 items-center justify-center",children:(0,r.jsx)("div",{className:"h-48 w-48 animate-wave rounded-md bg-gray-300"})});let j=[{name:"Official Image",prompt:"Prompt 1",image:"https://studioindi.jp/wp-content/uploads/2024/05/ba-box-retouchflow-after2-m1.jpg"},{name:"Portrait Image",prompt:"Prompt 2",image:"https://www.spacemarket.com/magazine/wp-content/uploads/2023/06/13134759/26542245_s.jpg",background:[{name:"uminienko",prompt:"Prompt 1",image:"https://a-tabito.jp/wp-content/uploads/2018/02/DSC_0203-1200x630.jpg"},{name:"flower",prompt:"a man of img Portrait photo in front of a beautiful background, softly blurred, vibrant colors, natural lighting, head and shoulders in frame, serene and confident expression",image:"https://res.cloudinary.com/tabikobo/images/c_scale,w_448,h_299,dpr_2/f_auto,q_auto/v1689924072/wordpress_tabi-pocket/af8f10f4c90fd99737035b3a555994bb/af8f10f4c90fd99737035b3a555994bb.jpg?_i=AA"},{name:"Template 3",prompt:"Prompt 3",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQtFeJEYhNbcTrqSiQFp9rqJg59p1tSJmMV0ZS_hY5ofNFJqMY52ZghonOC-pvl7OZqjs8&usqp=CAU"},{name:"Template 3",prompt:"Prompt 3",image:"https://beiz.jp/images_T/mountain/mountain_00009.jpg"}]},{name:"Fantasy Image",prompt:"Prompt 3",image:"https://blog.ja.playstation.com/tachyon/sites/7/2021/07/a3d299e7a2841e06dcb6771ade6f25a3b4973985.jpg?fit=1024%2C675"},{name:"Official Image",prompt:"Prompt 12",image:"https://studioindi.jp/wp-content/uploads/2024/05/ba-box-retouchflow-after2-m1.jpg"},{name:"Portrait Image",prompt:"Prompt 22",image:"https://www.spacemarket.com/magazine/wp-content/uploads/2023/06/13134759/26542245_s.jpg"},{name:"Fantasy Image",prompt:"Prompt 32",image:"https://blog.ja.playstation.com/tachyon/sites/7/2021/07/a3d299e7a2841e06dcb6771ade6f25a3b4973985.jpg?fit=1024%2C675"}];var y=a(7206);function v(){let[e,t]=(0,l.useState)(""),[a,o]=(0,l.useState)(null),[c,g]=(0,l.useState)(null),[h,x]=(0,l.useState)(!1),[v,_]=(0,l.useState)(""),k=(0,l.useRef)(null),N=()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},S=async()=>{if(!e){alert("Please select an image file.");return}try{let t=e.replace(/^data:image\/[a-z]+;base64,/,"");x(!0);let a=await n(t,v);x(!1),setTimeout(()=>{N()},200),o("data:image/png;base64,".concat(a));let r=q(a,"image/png"),s=URL.createObjectURL(r);g(s)}catch(e){x(!1),console.error("Error in processing images:",e)}},q=(e,t)=>{let a=atob(e),r=[];for(let e=0;e<a.length;e+=512){let t=a.slice(e,e+512),n=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);let o=new Uint8Array(n);r.push(o)}return new Blob(r,{type:t})},[P,C]=(0,l.useState)(""),[T,I]=(0,l.useState)([]);return(0,r.jsxs)(s.xu,{children:[(0,r.jsx)(y.U,{justify:"center",className:"m-10 mt-14",children:(0,r.jsx)(m,{selectedImage:e,setSelectedImage:t})}),(0,r.jsx)(u,{children:(0,r.jsx)(s.xu,{className:"flex flex-row space-x-4 overflow-x-auto px-3 pt-3 scrollbar-none",children:j.map(e=>(0,r.jsx)(s.xu,{className:"shrink-0",children:(0,r.jsx)(b,{name:e.name,prompt:e.prompt,image:e.image,isSelect:""===P||P===e.prompt,onClick:()=>{var t;C(e.prompt),_(e.prompt),I(null!==(t=e.background)&&void 0!==t?t:[])}})},e.name))})}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"transition-max-height overflow-hidden duration-500 ease-in-out ".concat(T.length>0?"max-h-[500px] opacity-100":"max-h-0 opacity-0"),children:T.length>0&&(0,r.jsx)(u,{children:(0,r.jsx)(f,{background:T,onSetPrompt:_})})})}),(0,r.jsx)(p,{isDisable:h||!e||!P,className:"font-bold",onClick:()=>{setTimeout(()=>{N()},200),S()},children:"Letâ€™s Generate !"}),h&&(0,r.jsx)(w,{}),a&&(0,r.jsx)(i.g,{children:(0,r.jsx)("img",{className:"m-7 size-[80vw] rounded-lg border-2 bg-white/20 shadow-[3px_2px_18.9px_0px_rgba(0,81,255,0.25)] transition-all duration-150 ease-in-out hover:translate-y-1 active:translate-y-2 active:shadow-[1px_1px_10px_0px_rgba(0,81,255,0.25)]",src:a,alt:"Generated Preview"})}),c&&(0,r.jsx)(d,{downloadUrl:null!=c?c:"",fileName:"swapped_image.png",children:"Save Image"}),(0,r.jsx)(s.xu,{className:"h-12",ref:k})]})}}},function(e){e.O(0,[286,736,850,844,488,744],function(){return e(e.s=6016)}),_N_E=e.O()}]);